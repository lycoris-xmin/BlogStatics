$(function(){function t(){try{const t=$("script[page-data]").text();return JSON.parse(t)}catch(t){return{}}}async function e(){const t=$.createHttpRequest();t.url="/home/aboutWeb/markdown";const e=await t.get();return e&&0==e.resCode?e.data:""}function o(t){try{const e={id:"cherry-markdown-container",value:t||"",editor:{codemirror:{theme:"default"},defaultModel:"previewOnly",convertWhenPaste:!0},engine:{global:{htmlWhiteList:"iframe|script|style"},syntax:{list:{listNested:!0},inlineCode:{theme:"red"},codeBlock:{theme:"dark",wrap:!0,lineNumber:!0}}},toolbars:{showToolbar:!1,autoScrollByHashAfterInit:!0}};c.cherry=new Cherry(e)}catch(t){}finally{$("div.cherry-dropdown,table.cherry-dropdown").remove(),$("div.cherry-toolbar").remove(),$("div.cherry-editor").remove(),setTimeout(()=>{$(".cherry-markdown-container").find("i.ch-icon-copy").attr("title","复制")},0)}}function r(){$("span[data-interactive]").each((t,e)=>{const o=parseInt($(e).attr("data-interactive"));$(e).text($.formatNumber(o)),$(e).removeClass()})}function n(){const e=t(),o=echarts.init($("#category-echarts")[0]),r={tooltip:{trigger:"item"},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1}},labelLine:{show:!1},data:e}]};return o.setOption(r),o.on("click",function(t){}),o}async function a(){try{const t=$.createHttpRequest();t.url="/home/worldcloud",t.data={pageIndex:1,pageSize:26};const e=await t.get();return e&&0==e.resCode?e.data.list:void 0}catch(t){return}}async function i(t){if(!t||!t.length)return;const e=echarts.init($("#world-cloud-echarts")[0]),o=["#926dde","#f96197","#fa8181","#fbb264","#48b0f7","#15c377","#77d2dc","#8d6658","#515d70"];for(let e of t){let t=Math.floor(Math.random()*Math.floor(o.length-1))+1;e.textStyle={color:o[t]}}const r={tooltip:{trigger:"item",showDelay:0,transitionDuration:.2,borderColor:"#666",formatter:function(t){if(t.name)return t.name+" : "+(isNaN(t.value)?0:parseInt(t.value))}},series:[{type:"wordCloud",sizeRange:[15,80],rotationRange:[0,0],rotationStep:45,gridSize:8,layoutAnimation:!0,shape:"circle",width:"100%",height:"100%",textStyle:{normal:{color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"},fontFamily:"sans-serif",fontWeight:"normal"},emphasis:{focus:"self",textStyle:{textShadowBlur:10,textShadowColor:"#333"}}},data:t}]};return e.setOption(r),e.on("click",function(t){}),e}const c={cherry:void 0};this.init=async function(){const t=await a();t&&t.length||$("div.tags-world-cloud").remove();const c=await e();o(c),window.lycoris.loading.hide(),setTimeout(()=>{r();const e=[n(),i(t)];window.addEventListener("resize",function(){for(let t=0;t<e.length;t++)e[t]&&e[t].resize()})},10)},this.init()});