$(function(){async function t(t,e){const i=window.lycoris.createRequest();i.url=`${o}/list`,i.data={pageIndex:t,pageSize:e};const n=$(".filter-panel").toJson();for(let t in n){const e=n[t];(e||"number"==typeof e)&&(i.data[t]=n[t])}const l=await i.get();return l&&0==l.resCode?l.data:{}}function e(){i.options.toolbar=".table-tool",i.options.showCheckbox=!0,i.options.showColumns=!1,i.options.autoHeight=!0,i.options.resize=!0,i.columns=[{column:"pageName",title:"访问页面",render:function(t){return`<a class="cell-page">${t}</a>`}},{column:"route",title:"访问路由",render:function(t){return`<div class="cell-route">${t}</div>`}},{column:"referer",title:"跳转来源",width:"450",align:"left"},{column:"ip",title:"IP地址",width:"150",align:"left"},{column:"ipAddress",title:"IP属地",width:"250",align:"left"},{column:"createTime",title:"访问时间",width:"180"}],i.init(),i.request=t,i.loadCompelte=(()=>{$('[data-toggle="tooltip"]').tooltip()})}const o="/log/browse",i=$("#tb_departments").table(),n={search:$(".table-tool").find("button.btn-success")};n.search.on("click",async function(){$(this).setBusy();try{await i.load()}finally{$(this).clearBusy()}}),this.init=async function(){e(),window.lycoris.loading.hide(),await i.load()},this.init()});