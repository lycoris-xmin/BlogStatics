$(function(){$.fn.blogModal=function(e){const t=this,o=$(this).find(".modal-dialog"),n={backdrop:!0,mousedownTarget:!1,mouseupTarget:!1};return this.show=function(){$(this).fadeIn(200,()=>{o.fadeIn(200)})},this.hide=function(){$(this).fadeOut(300,()=>{o.fadeOut(100)})},_init=function(){e=e||{},null!=e.backdrop&&"boolean"==typeof e.backdrop&&(n.backdrop=e.backdrop),$("div.modal").each((e,t)=>{const o=10*(e+1)+1e3;$(t).css("z-index",o),$(t).find(".modal-dialog").css("z-index",o+1)}),$(t).on("click",function(){n.backdrop&&n.mousedownTarget&&n.mouseupTarget&&t.hide(),n.mousedownTarget=n.mouseupTarget=!1}),$(t).on("mousedown",function(e){n.mousedownTarget=e.target===e.currentTarget}),$(t).on("mouseup",function(e){n.mouseupTarget=e.target===e.currentTarget}),o.on("click",function(e){e.stopPropagation()}),o.find(".modal-header").find(".mdi-close").on("click",function(){t.hide()}),o.find("button[close]").on("click",function(){t.hide()})},_init(),this},$.indexDb=function(e,t){function o(e,t){return!t||("function"!=typeof t||t(e))}return _databaseName=e,_storeName=t,this.db=void 0,this.openDatabase=async function(){if(!window.indexedDB)throw new Error("IndexedDB is not supported in this browser.");return new Promise((e,t)=>{let o=indexedDB.open(_databaseName,1);o.onerror=(()=>{t(o.error)}),o.onsuccess=(()=>{e(o.result)}),o.onupgradeneeded=(e=>{const t=e.target.result;t.objectStoreNames.contains(_storeName)||t.createObjectStore(_storeName,{keyPath:"id"})})})},this.getData=async function(e){return new Promise((t,o)=>{this.openDatabase().then(n=>{const a=n.transaction(_storeName,"readonly"),r=a.objectStore(_storeName),s=r.get(e);s.onsuccess=function(){t(s.result)},s.onerror=function(){o()}})}).catch(e=>{reject(e)})},this.create=async function(e){const t=await this.openDatabase(),o=t.transaction(_storeName,"readwrite"),n=o.objectStore(_storeName);e.id||(e.id=+new Date);const a=await n.add(e);return await o.complete,a},this.update=async function(e){const t=await this.openDatabase(),o=t.transaction(_storeName,"readwrite"),n=o.objectStore(_storeName);await n.put(e),await o.complete},this.delete=async function(){const e=await this.openDatabase(),t=e.transaction(_storeName,"readwrite"),o=t.objectStore(_storeName);await o.delete(id),await t.complete},this.query=async function(e){const t=await this.openDatabase(),n=t.transaction(_storeName,"readonly"),a=n.objectStore(_storeName),r=a.openCursor();let s=[];return new Promise((t,n)=>{r.onsuccess=(n=>{const a=n.target.result;if(a){const t=a.value;o(t,e)&&s.push(t),a.continue()}else t(s)}),r.onerror=(()=>{n(r.error)})})},this}});