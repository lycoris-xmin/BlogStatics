$(function(){$.fn.toJson=function(){var t={};const e=$(this);return e.find("input").each(function(e,n){if("text"==n.type||"password"==n.type||"select-one"==n.type||"tel"==n.type||"search"==n.type||"range"==n.type||"number"==n.type||"month"==n.type||"email"==n.type||"datetime-local"==n.type||"datetime"==n.type||"date"==n.type||"color"==n.type){let e=$(n).attr("name");if(e)if(e.endsWith("[]"))e=e.substring(0,e.length-2),t.hasOwnProperty(e)?t[e].push($(n).val()):t[e]=[$(n).val()];else if($(n).hasClass("js-tags-input")){let i=$(n).val();i&&(i=i.split(",").map(t=>t.trimStart().trimEnd()).filter(t=>null!=t&&""!=t)),t[e]=i||[]}else t[e]=$(n).val()}else if("checkbox"==n.type){if($(n).attr("name")){var i=$("input[name="+$(n).attr("name")+"]:checked");if(i&&i.length){var s=[];const e=$(n).data("type")||"";i.each(function(t,n){let i=$(n).val();"boolean"==e&&"string"==typeof i&&(i=Boolean("on"===i)),s.push(i)}),s&&(s.length>1?t[$(n).attr("name")]=s.join(","):t[$(n).attr("name")]=s[0])}}}else if("radio"==n.type){var a=$("input[name="+$(n).attr("name")+"]:checked").val();a&&(t[$(n).attr("name")]=a)}}),e.find("select").each(function(e,n){let i=$(n).attr("name");if(i){let e=$(n).val();"number"===$(n).data("type")?t[i]=""===e?null:parseInt(e):"boolean"===$(n).data("type")?t[i]=""===e?null:"true"===e:t[i]=e}}),e.find("textarea").each(function(e,n){let i=$(n).attr("name");i&&(t[i]=$(n).val())}),t},$.fn.shake=function(t=2,e=10,n=400){for(let i=0;i<t;i++)$(this).animate({left:-1*e},n/t/4).animate({left:e},n/t/2).animate({left:0},n/t/4)},$.fn.busy=function(){function t(t){let e=`\n      <div class="lycoris-loading flex-center-center" data-id="${t}">\n        <div class="flex-center-center">\n          <i class="mdi mdi-loading mdi-spin"></i>\n          <span class="text"></span>\n        </div>\n      </div>\n      `;return e}const e=this;let n=void 0;return this.show=function(t="加载中，请稍候..."){t=t||"加载中，请稍候...",n.find("span.text").text(t),n.hasClass("show")||n.addClass("show")},this.hide=function(){n.removeClass("show")},this.init=function(){const i=$("div.lycoris-loading");let s=0;for(let t of i){const e=parseInt($(t).data("id"));s<e&&(s=e)}s++;const a=t(s);$(e).append(a),n=$(`div.lycoris-loading[data-id="${s}"]`)},this.init(),this},$.fn.lineBusy=function(){function t(t){let e=`\n      <div class="line-loading-preloader" data-id="${t}"> \n        <div class="line-loading-preloader-inner"></div>\n      </div>\n      `;return e}const e=this;let n=void 0;return this.show=function(t){t=t||"";const e=n.find("span.loading-text");t&&(e&&0!=e.length?e.text(t):n.append(`<span class="loading-text">${t}</span>`)),n.addClass("show-loading")},this.hide=function(){n.removeClass("show-loading");const t=n.find("span.loading-text");t&&t.length&&t.text("")},this.destroy=function(){n.remove()},this.init=function(){const i=$("div.line-loading-preloader");let s=0;if(i&&i.length){for(let t of i){const e=parseInt($(t).data("id"));s<e&&(s=e)}s++}const a=t(s);$(e).append(a),n=$(`div.line-loading-preloader[data-id="${s}"]`)},this.init(),this},$.fn.lycorisTooltip=function(){const t=[...$(this)];if(t&&t.length){$(this).css("position","relative");for(let e of t){const t=$(e).data("placement")||"top",n="bottom"===t?"tooltip-bottom":"tooltip-top";let i=`\n        <div class="l-tooltip ${n}">\n          <div class="tooltip-content flex-center-center">\n            <span>${$(e).data("original-title")}</span>\n          </div>\n        </div>\n        `;$(e).append(i),$(e).hover(function(){$(e).find("div.l-tooltip").fadeIn(200)},function(){$(e).find("div.l-tooltip").fadeOut(200)})}}},$.fn.formAutoFill=function(t,e){const n=Object.keys(t),i=Object.keys(e||{});$(this).find("input[name]").each((s,a)=>{if("file"!=$(a).attr("type")){const s=$(a).attr("name");let o=n.includes(s)?t[s]:"";if(s){const t=$(a).hasClass("js-tags-input");t&&Array.isArray(o)&&(o=o.join(",")),$(a).val(o),t&&i.includes("taginput")&&"function"==typeof e.taginput&&e.taginput(a,s,o)}}}),$(this).find("textarea[name]").each((e,i)=>{const s=$(i).attr("name");let a=n.includes(s)?t[s]:"";s&&a&&$(i).val(a)})},$.fn.setBusy=function(){const t=$(this)[0];$(t).attr("disabled","disabled")},$.fn.clearBusy=function(){const t=$(this)[0];$(t).removeAttr("disabled")},$.debounce=function(t,e,n){var i;return function(){var s=this,a=arguments;if(i&&clearTimeout(i),n){var o=!i;i=setTimeout(function(){t.apply(s,a)},e),o&&t.apply(s,a)}else i=setTimeout(function(){t.apply(s,a)},e)}},$.throttle=function(t,e,n=!0){var i,s,a,o=+new Date,r=[];return function(){clearTimeout(i),s=this,a=+new Date,r=Array.prototype.slice.call(arguments),n?(n=!1,t.apply(s,r)):a-o>e?(o=a,t.apply(s,r)):i=setTimeout(function(){t.apply(s,r)},e)}},$.lycorisTotast=function(){function t(t,e){let n="info";"success"==t?n="success":"error"==t?n="danger":"warning"==t&&(n="warning");const i=`\n      <div class="totast-container ${n}">\n        <div class="totast-body flex-center-center">\n          <div class="totast-content">${e}</div>\n          <div class="close">\n            <div>\n              <span class="mdi mdi-close"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n       `;return i}return this.success=function(e){const n=t("success",e);_show(n)},this.warn=function(e){const n=t("warning",e);_show(n)},this.info=function(e){const n=t("info",e);_show(n)},this.error=function(e){const n=t("error",e);_show(n)},_show=function(t){const e=$(t),n=$(".page-header");n&&n.length>0?$(".page-header").append(e):$("body").append(e),$(e).find(".mdi-close").on("click",function(){e&&$(e).length&&($(e).css("animation","reverse-slide-in-top 0.75s both").css("-webkit-animation","reverse-slide-in-top 0.75s both").css("-moz-animation","reverse-slide-in-top 0.75s both"),setTimeout(()=>{$(e).remove()},500))}),setTimeout(()=>{$(e).css("animation","reverse-slide-in-top 0.75s both").css("-webkit-animation","reverse-slide-in-top 0.75s both").css("-moz-animation","reverse-slide-in-top 0.75s both"),setTimeout(()=>{$(e).remove()},500)},2500)},this},$.getMaxPageIndex=function(t,e){return Math.ceil(t/e)},$.getPageNumber=function(t,e,n=7){let i=1,s=0;e>n?t<=3?(i=1,s=n):t+3>e?(i=e-n,s=e):(i=Math.max(1,t-3),s=Math.min(e,t+3)):(i=1,s=e);const a=[];for(let t=i;t<=s;t++)a.push(t);return a},$.scroll={lock:function(){let t=17,e=document.documentElement;"number"==typeof window.innerWidth&&(t=window.innerWidth-e.clientWidth),e.style.overflow="hidden",e.style.borderRight=t+"px solid transparent"},unlock:function(){let t=document.documentElement;t.style.overflow="",t.style.borderRight=""},toTop:function(){$("html, body").animate({scrollTop:0},"slow")}},$.regex={password:function(t){let e=/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_!@#$%^&*`~()-+=]+$)(?![a-z0-9]+$)(?![a-z\W_!@#$%^&*`~()-+=]+$)(?![0-9\W_!@#$%^&*`~()-+=]+$)[a-zA-Z0-9\W_!@#$%^&*`~()-+=]/;return e.test(t)},email:function(t){let e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},idcard:function(t){let e=/^\d{6}((((((19|20)\d{2})(0[13-9]|1[012])(0[1-9]|[12]\d|30))|(((19|20)\d{2})(0[13578]|1[02])31)|((19|20)\d{2})02(0[1-9]|1\d|2[0-8])|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))0229))\d{3})|((((\d{2})(0[13-9]|1[012])(0[1-9]|[12]\d|30))|((\d{2})(0[13578]|1[02])31)|((\d{2})02(0[1-9]|1\d|2[0-8]))|(([13579][26]|[2468][048]|0[048])0229))\d{2}))(\d|X|x)$/;return e.test(t)},url:function(t){let e=/^((http|https):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/;return e.test(t)},ip:function(t){var e=/^((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])(?::(?:[0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5]))?$/;return e.test(t)}},$.copyText=navigator.clipboard?t=>{navigator.clipboard.writeText(t).then(()=>{}).catch(()=>{const e=document.createElement(e);e.setAttribute("value",t),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})}:t=>{const e=document.createElement(e);e.setAttribute("value",t),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},$.getUserAgentImg=function(t){const e={url:"./statics/icon/browser/edge.png",title:"未知"};switch(t){case 0:e.url="./statics/icon/browser/edge.png",e.title="Microsoft Edge";break;case 1:e.url="./statics/icon/browser/chrome.png",e.title="Chrome";break;case 2:e.url="./statics/icon/browser/safari.png",e.title="Safari";break;case 3:e.url="./statics/icon/browser/uc.png",e.title="UC浏览器";break;case 4:e.url="./statics/icon/browser/baidu.png",e.title="百度浏览器";break;case 5:e.url="./statics/icon/browser/qq.png",e.title="QQ浏览器";break;case 6:e.url="./statics/icon/browser/liebao.png",e.title="猎豹浏览器";break;case 7:e.url="./statics/icon/browser/firefox.png",e.title="火狐浏览器";break;case 8:e.url="./statics/icon/browser/360.png",e.title="360安全浏览器";break;case 9:e.url="./statics/icon/browser/360.png",e.title="360极速浏览器";break;case 10:e.url="./statics/icon/browser/opera.png",e.title="Opera";break;case 11:e.url="./statics/icon/browser/android.png",e.title="小米浏览器";break;case 12:e.url="./statics/icon/browser/android.png",e.title="微信浏览器";break;case 13:e.url="./statics/icon/browser/android.png",e.title="手机QQ浏览器";break;case 14:e.url="./statics/icon/browser/android.png",e.title="手机百度浏览器";break;case 15:e.url="./statics/icon/browser/ie.png",e.title="IE浏览器";break;case 16:e.url="./statics/icon/browser/android.png",e.title="安卓浏览器"}return e},$.formatNumber=function(t){return t<1e3?t.toString().indexOf(".")>-1?t.toFixed(1):t:(t/1e3).toFixed(1)+"K"},$.highlightKeyword=function(t,e){const n=new RegExp(e,"gi"),i=t.replace(n,function(t){return`<span style="color: var(--color-danger);padding:0 3px;">${t}</span>`});return i},$.lycorisImagePreviewer=function(t){function e(){_viewer.fadeOut(300,function(){$(this).find("img").hide()})}function n(){_deg=0,_scale=1,_viewer.find("img").removeClass("transition"),_viewer.find("img").css("transform",""),setTimeout(()=>{_viewer.find("img").addClass("transition")},0)}const i=t||[];_index=0,_deg=0,_scale=1,_viewer=void 0,this.show=function(t){n();let e=parseInt(t);isNaN(e)&&"string"==typeof t?_viewer.find("img").attr("src",t):i.length-1>=e&&(_index=e,_viewer.find("img").attr("src",i[_index])),_viewer.fadeIn(300,function(){const t=$(this).find("img");t.show().addClass("show"),setTimeout(()=>{t.removeClass("show")},500)})},this.hide=function(){e()},this.zoom=function(t){a(t)},_init=function(){if(_viewer)return;let t='\n      <div class="image-viewer">\n        <div class="image-viewer-mask">\n          <span class="icon"><i class="mdi mdi-close"></i></span>';i&&i.length>0&&(t=t.concat('<span class="icon"><i class="mdi mdi-chevron-left" data-index="-1"></i>\n                            </span><span class="icon"><i class="mdi mdi-chevron-right" data-index="1"></i></span>')),t=t.concat('\n          <div class="image-canvas">\n              <img src="" class="transition"/>\n          </div>\n\n          <div class="icon-panel">\n              <span class="mdi mdi-magnify-minus-outline" title="缩小"></span>\n              <span class="mdi mdi-magnify-plus-outline" title="放大"></span>\n              <span class="mdi mdi-backup-restore" title="还原"></span>\n              <span class="mdi mdi-format-rotate-90" title="向左旋转"></span>\n              <span class="mdi mdi-format-rotate-90 mdi-rotate-180" title="向右旋转"></span>\n          </div>\n        </div>\n      </div>\n      '),$("body").append(t),_viewer=$("div.image-viewer"),_viewer.on("click",function(){e()}),_viewer.find(".icon,.icon>.mdi").on("click",function(t){t.stopPropagation(),$(this).hasClass("mdi-close")?e():($(this).hasClass("mdi-chevron-left")||$(this).hasClass("mdi-chevron-right"))&&s.call(this)}),_viewer.find(".icon-panel,.icon-panel>.mdi").on("click",function(t){t.stopPropagation(),$(this).hasClass("mdi")&&($(this).hasClass("mdi-format-rotate-90")?o.call(this,$(this).hasClass("mdi-rotate-180")?1:-1):$(this).hasClass("mdi-magnify-minus-outline")||$(this).hasClass("mdi-magnify-plus-outline")?a.call(this,$(this).hasClass("mdi-magnify-minus-outline")?-1:1):(_viewer.find("img").css("transform","scale(1) rotate(0deg)"),_deg=0,_scale=1))});let n=0;const r=$.debounce(function(t){t/=100,t>5?t=5:t<-5&&(t=-5),a(-1*t),n=0},50);_viewer.on("mousewheel ",function(t){t.preventDefault(),t.stopPropagation(),n+=t.originalEvent.deltaY,r(n)})};const s=$.throttle(function(){if($(this).hasClass("mdi-chevron-left")){if(0==_index)return;_index--}else{if(_index==i.length-1)return;_index++}_viewer.find("img").fadeOut(300,function(){n(),_viewer.find("img").attr("src",i[_index]),$(this).fadeIn(300)})},300),a=$.throttle(function(t){_scale+=.1*t,_scale<0&&(_scale=.1);let e=`scale(${_scale})`;_deg>0&&(e=e.concat(` rotate(${_deg}deg)`)),_viewer.find("img").css("transform",e)},300),o=$.throttle(function(t){_deg+=90*t;let e=`rotate(${_deg}deg)`;_scale>0&&(e=e.concat(` scale(${_scale})`)),_viewer.find("img").css("transform",e)},300);return _init(),this},$.uuid=function(){let t=[];for(var e="0123456789abcdef",n=0;n<36;n++){let i=Math.floor(16*Math.random());t[n]=e.substring(i,i+1)}t[14]="4";let i=3&t[19]|8;t[19]=e.substring(i,i+1),t[8]=t[13]=t[18]=t[23]="-";var s=t.join("");return s.replaceAll("-","")}});