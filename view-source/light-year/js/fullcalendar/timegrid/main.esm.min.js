import{createFormatter,removeElement,cssToStr,isMultiDayRange,htmlEscape,compareByFieldSpecs,applyStyle,FgEventRenderer,buildSegCompareObj,FillRenderer,memoizeRendering,createDuration,wholeDivideDurations,findElements,PositionCache,startOfDay,asRoughMs,formatIsoTimeString,addDurations,htmlToElement,createElement,multiplyDuration,DateComponent,hasBgRendering,Splitter,diffDays,buildGotoAnchorHtml,getAllDayHtml,ScrollComponent,matchCellWidths,uncompensateScroll,compensateScroll,subtractInnerElHeight,View,memoize,intersectRanges,Slicer,DayHeader,DaySeries,DayTable,createPlugin}from"@fullcalendar/core";import{DayBgRow,DayGrid,SimpleDayGrid}from"@fullcalendar/daygrid";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}))(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},TimeGridEventRenderer=function(r){function e(e){var t=r.call(this,e.context)||this;return t.timeGrid=e,t.fullTimeFormat=createFormatter({hour:"numeric",minute:"2-digit",separator:t.context.options.defaultRangeSeparator}),t}return __extends(e,r),e.prototype.attachSegs=function(e,t){for(var r=this.timeGrid.groupSegsByCol(e),i=0;i<r.length;i++)r[i]=this.sortEventSegs(r[i]);this.segsByCol=r,this.timeGrid.attachSegsByCol(r,this.timeGrid.fgContainerEls)},e.prototype.detachSegs=function(e){e.forEach(function(e){removeElement(e.el)}),this.segsByCol=null},e.prototype.computeSegSizes=function(e){var t=this.timeGrid,r=this.segsByCol,i=t.colCnt;if(t.computeSegVerticals(e),r)for(var n=0;n<i;n++)this.computeSegHorizontals(r[n])},e.prototype.assignSegSizes=function(e){var t=this.timeGrid,r=this.segsByCol,i=t.colCnt;if(t.assignSegVerticals(e),r)for(var n=0;n<i;n++)this.assignSegCss(r[n])},e.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.renderSegHtml=function(e,t){var r,i,n,o=this.context.view,s=e.eventRange,a=s.def,l=s.ui,d=a.allDay,c=o.computeEventDraggable(a,l),h=e.isStart&&o.computeEventStartResizable(a,l),o=e.isEnd&&o.computeEventEndResizable(a,l),c=this.getSegClasses(e,c,h||o,t),h=cssToStr(this.getSkinCss(l));return c.unshift("fc-time-grid-event"),isMultiDayRange(s.range)?(e.isStart||e.isEnd)&&(t=e.start,l=e.end,r=this._getTimeText(t,l,d),i=this._getTimeText(t,l,d,this.fullTimeFormat),n=this._getTimeText(t,l,d,null,!1)):(r=this.getTimeText(s),i=this.getTimeText(s,this.fullTimeFormat),n=this.getTimeText(s,null,!1)),'<a class="'+c.join(" ")+'"'+(a.url?' href="'+htmlEscape(a.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(r?'<div class="fc-time" data-start="'+htmlEscape(n)+'" data-full="'+htmlEscape(i)+'"><span>'+htmlEscape(r)+"</span></div>":"")+(a.title?'<div class="fc-title">'+htmlEscape(a.title)+"</div>":"")+"</div>"+(o?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},e.prototype.computeSegHorizontals=function(e){var t,r,e=buildSlotSegLevels(e);if(computeForwardSlotSegs(e),t=e[0]){for(r=0;r<t.length;r++)computeSlotSegPressures(t[r]);for(r=0;r<t.length;r++)this.computeSegForwardBack(t[r],0,0)}},e.prototype.computeSegForwardBack=function(e,t,r){var i,n=e.forwardSegs;if(void 0===e.forwardCoord)for(n.length?(this.sortForwardSegs(n),this.computeSegForwardBack(n[0],t+1,r),e.forwardCoord=n[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(t+1),i=0;i<n.length;i++)this.computeSegForwardBack(n[i],0,e.forwardCoord)},e.prototype.sortForwardSegs=function(e){var e=e.map(buildTimeGridSegCompareObj),r=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.view.eventOrderSpecs);return e.sort(function(e,t){return compareByFieldSpecs(e,t,r)}),e.map(function(e){return e._seg})},e.prototype.assignSegCss=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];applyStyle(i.el,this.generateSegCss(i)),0<i.level&&i.el.classList.add("fc-time-grid-event-inset"),i.eventRange.def.title&&i.bottom-i.top<30&&i.el.classList.add("fc-short")}},e.prototype.generateSegCss=function(e){var t,r=this.context.options.slotEventOverlap,i=e.backwardCoord,n=e.forwardCoord,o=this.timeGrid.generateSegVerticalCss(e),s=this.timeGrid.isRtl;return r&&(n=Math.min(1,i+2*(n-i))),i=s?(t=1-n,i):(t=i,1-n),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*i+"%",r&&e.forwardPressure&&(o[s?"marginLeft":"marginRight"]=20),o},e}(FgEventRenderer);function buildSlotSegLevels(e){for(var t,r,i=[],n=0;n<e.length;n++){for(t=e[n],r=0;r<i.length&&computeSlotSegCollisions(t,i[r]).length;r++);(i[t.level=r]||(i[r]=[])).push(t)}return i}function computeForwardSlotSegs(e){for(var t,r,i,n,o=0;o<e.length;o++)for(t=e[o],r=0;r<t.length;r++)for((i=t[r]).forwardSegs=[],n=o+1;n<e.length;n++)computeSlotSegCollisions(i,e[n],i.forwardSegs)}function computeSlotSegPressures(e){var t,r,i=e.forwardSegs,n=0;if(void 0===e.forwardPressure){for(t=0;t<i.length;t++)computeSlotSegPressures(r=i[t]),n=Math.max(n,1+r.forwardPressure);e.forwardPressure=n}}function computeSlotSegCollisions(e,t,r){void 0===r&&(r=[]);for(var i=0;i<t.length;i++)isSlotSegCollision(e,t[i])&&r.push(t[i]);return r}function isSlotSegCollision(e,t){return e.bottom>t.top&&e.top<t.bottom}function buildTimeGridSegCompareObj(e){var t=buildSegCompareObj(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}var TimeGridMirrorRenderer=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return __extends(e,i),e.prototype.attachSegs=function(e,t){this.segsByCol=this.timeGrid.groupSegsByCol(e),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=t.sourceSeg},e.prototype.generateSegCss=function(e){var t=i.prototype.generateSegCss.call(this,e),r=this.sourceSeg;return r&&r.col===e.col&&(e=i.prototype.generateSegCss.call(this,r),t.left=e.left,t.right=e.right,t.marginLeft=e.marginLeft,t.marginRight=e.marginRight),t},e}(TimeGridEventRenderer),TimeGridFillRenderer=function(r){function e(e){var t=r.call(this,e.context)||this;return t.timeGrid=e,t}return __extends(e,r),e.prototype.attachSegs=function(e,t){var r,i=this.timeGrid;return"bgEvent"===e?r=i.bgContainerEls:"businessHours"===e?r=i.businessContainerEls:"highlight"===e&&(r=i.highlightContainerEls),i.attachSegsByCol(i.groupSegsByCol(t),r),t.map(function(e){return e.el})},e.prototype.computeSegSizes=function(e){this.timeGrid.computeSegVerticals(e)},e.prototype.assignSegSizes=function(e){this.timeGrid.assignSegVerticals(e)},e}(FillRenderer),AGENDA_STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],TimeGrid=function(s){function e(e,t,r){var e=s.call(this,e,t)||this,i=(e.isSlatSizesDirty=!1,e.isColSizesDirty=!1,e.renderSlats=memoizeRendering(e._renderSlats),e.eventRenderer=new TimeGridEventRenderer(e)),n=e.fillRenderer=new TimeGridFillRenderer(e),o=(e.mirrorRenderer=new TimeGridMirrorRenderer(e),e.renderColumns=memoizeRendering(e._renderColumns,e._unrenderColumns));return e.renderBusinessHours=memoizeRendering(n.renderSegs.bind(n,"businessHours"),n.unrender.bind(n,"businessHours"),[o]),e.renderDateSelection=memoizeRendering(e._renderDateSelection,e._unrenderDateSelection,[o]),e.renderFgEvents=memoizeRendering(i.renderSegs.bind(i),i.unrender.bind(i),[o]),e.renderBgEvents=memoizeRendering(n.renderSegs.bind(n,"bgEvent"),n.unrender.bind(n,"bgEvent"),[o]),e.renderEventSelection=memoizeRendering(i.selectByInstanceId.bind(i),i.unselectByInstanceId.bind(i),[e.renderFgEvents]),e.renderEventDrag=memoizeRendering(e._renderEventDrag,e._unrenderEventDrag,[o]),e.renderEventResize=memoizeRendering(e._renderEventResize,e._unrenderEventResize,[o]),e.processOptions(),t.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+e.theme.getClass("widgetHeader")+'" style="display:none" />',e.rootBgContainerEl=t.querySelector(".fc-bg"),e.slatContainerEl=t.querySelector(".fc-slats"),e.bottomRuleEl=t.querySelector(".fc-divider"),e.renderProps=r,e}return __extends(e,s),e.prototype.processOptions=function(){var e=this.opt("slotDuration"),t=this.opt("snapDuration"),e=createDuration(e),t=t?createDuration(t):e,r=wholeDivideDurations(e,t);null===r&&(t=e,r=1),this.slotDuration=e,this.snapDuration=t,this.snapsPerSlot=r,t=this.opt("slotLabelFormat"),Array.isArray(t)&&(t=t[t.length-1]),this.labelFormat=createFormatter(t||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),t=this.opt("slotLabelInterval"),this.labelInterval=t?createDuration(t):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(e){for(var t,r,i=AGENDA_STOCK_SUB_DURATIONS.length-1;0<=i;i--)if(t=createDuration(AGENDA_STOCK_SUB_DURATIONS[i]),null!==(r=wholeDivideDurations(t,e))&&1<r)return t;return e},e.prototype.render=function(e){var t=e.cells;this.colCnt=t.length,this.renderSlats(e.dateProfile),this.renderColumns(e.cells,e.dateProfile),this.renderBusinessHours(e.businessHourSegs),this.renderDateSelection(e.dateSelectionSegs),this.renderFgEvents(e.fgEventSegs),this.renderBgEvents(e.bgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize)},e.prototype.destroy=function(){s.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender()},e.prototype.updateSize=function(e){var t=this.fillRenderer,r=this.eventRenderer,i=this.mirrorRenderer;(e||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(e||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),t.computeSizes(e),r.computeSizes(e),i.computeSizes(e),t.assignSizes(e),r.assignSizes(e),i.assignSizes(e)},e.prototype._renderSlats=function(e){var t=this.theme;this.slatContainerEl.innerHTML='<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml(e)+"</table>",this.slatEls=findElements(this.slatContainerEl,"tr"),this.slatPositions=new PositionCache(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(e){for(var t,r,i,n=this.dateEnv,o=this.theme,s=this.isRtl,a="",l=startOfDay(e.renderRange.start),d=e.minTime,c=createDuration(0);asRoughMs(d)<asRoughMs(e.maxTime);)t=n.add(l,d),r=null!==wholeDivideDurations(c,this.labelInterval),i='<td class="fc-axis fc-time '+o.getClass("widgetContent")+'">'+(r?"<span>"+htmlEscape(n.format(t,this.labelFormat))+"</span>":"")+"</td>",a+='<tr data-time="'+formatIsoTimeString(t)+'"'+(r?"":' class="fc-minor"')+">"+(s?"":i)+'<td class="'+o.getClass("widgetContent")+'"></td>'+(s?i:"")+"</tr>",d=addDurations(d,this.slotDuration),c=addDurations(c,this.slotDuration);return a},e.prototype._renderColumns=function(e,t){var r=this.theme,i=this.dateEnv,n=this.view,o=new DayBgRow(this.context);this.rootBgContainerEl.innerHTML='<table class="'+r.getClass("tableGrid")+'">'+o.renderHtml({cells:e,dateProfile:t,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=findElements(this.el,".fc-day, .fc-disabled-day");for(var s=0;s<this.colCnt;s++)this.publiclyTrigger("dayRender",[{date:i.toDate(e[s].date),el:this.colEls[s],view:n}]);this.isRtl&&this.colEls.reverse(),this.colPositions=new PositionCache(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var e,t=[];t.push(this.renderProps.renderIntroHtml());for(var r=0;r<this.colCnt;r++)t.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');this.isRtl&&t.reverse(),e=this.contentSkeletonEl=htmlToElement('<div class="fc-content-skeleton"><table><tr>'+t.join("")+"</tr></table></div>"),this.colContainerEls=findElements(e,".fc-content-col"),this.mirrorContainerEls=findElements(e,".fc-mirror-container"),this.fgContainerEls=findElements(e,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=findElements(e,".fc-bgevent-container"),this.highlightContainerEls=findElements(e,".fc-highlight-container"),this.businessContainerEls=findElements(e,".fc-business-container"),this.isRtl&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(e)},e.prototype.unrenderContentSkeleton=function(){removeElement(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(e){for(var t=[],r=0;r<this.colCnt;r++)t.push([]);for(r=0;r<e.length;r++)t[e[r].col].push(e[r]);return t},e.prototype.attachSegsByCol=function(e,t){for(var r,i,n=0;n<this.colCnt;n++)for(r=e[n],i=0;i<r.length;i++)t[n].appendChild(r[i].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(e,t){if(this.colContainerEls){for(var r=this.computeDateTop(t),i=[],n=0;n<e.length;n++){var o=createElement("div",{className:"fc-now-indicator fc-now-indicator-line"});o.style.top=r+"px",this.colContainerEls[e[n].col].appendChild(o),i.push(o)}0<e.length&&((t=createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow"})).style.top=r+"px",this.contentSkeletonEl.appendChild(t),i.push(t)),this.nowIndicatorEls=i}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(removeElement),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(e,t){return t=t||startOfDay(e),this.computeTimeTop(createDuration(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t=this.slatEls.length,r=this.props.dateProfile,e=(e.milliseconds-asRoughMs(r.minTime))/asRoughMs(this.slotDuration),e=Math.max(0,e);return e=Math.min(t,e),r=Math.floor(e),e=e-(r=Math.min(r,t-1)),this.slatPositions.tops[r]+this.slatPositions.getHeight(r)*e},e.prototype.computeSegVerticals=function(e){for(var t,r,i=this.opt("timeGridEventMinHeight"),n=0;n<e.length;n++)t=e[n],r=this.props.cells[t.col].date,t.top=this.computeDateTop(t.start,r),t.bottom=Math.max(t.top+i,this.computeDateTop(t.end,r))},e.prototype.assignSegVerticals=function(e){for(var t,r=0;r<e.length;r++)t=e[r],applyStyle(t.el,this.generateSegVerticalCss(t))},e.prototype.generateSegVerticalCss=function(e){return{top:e.top,bottom:-e.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(e,t){var r,i,n=this.dateEnv,o=this.snapsPerSlot,s=this.slatPositions,a=this.colPositions,e=a.leftToIndex(e),l=s.topToIndex(t);if(null!=e&&null!=l)return r=s.tops[l],s=s.getHeight(l),t=Math.floor((t-r)/s*o),i=this.props.cells[e].date,l=addDurations(this.props.dateProfile.minTime,multiplyDuration(this.snapDuration,l*o+t)),{col:e,dateSpan:{range:{start:o=n.add(i,l),end:n.add(o,this.snapDuration)},allDay:!1},dayEl:this.colEls[e],relativeRect:{left:a.lefts[e],right:a.rights[e],top:r,bottom:r+s}}},e.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.renderSegs("highlight",e.segs))},e.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}),this.fillRenderer.unrender("highlight"))},e.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype._renderDateSelection=function(e){e&&(this.opt("selectMirror")?this.mirrorRenderer.renderSegs(e,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",e))},e.prototype._unrenderDateSelection=function(e){this.mirrorRenderer.unrender(e,{isSelecting:!0}),this.fillRenderer.unrender("highlight")},e}(DateComponent),AllDaySplitter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?hasBgRendering(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(Splitter),TIMEGRID_ALL_DAY_EVENT_LIMIT=5,WEEK_HEADER_FORMAT=createFormatter({week:"short"}),TimeGridView=function(o){function e(e,t,r,i){var n=o.call(this,e,t,r,i)||this,e=(n.splitter=new AllDaySplitter,n.renderHeadIntroHtml=function(){var e=n.theme,t=n.dateEnv,r=n.props.dateProfile.renderRange,i=diffDays(r.start,r.end);return n.opt("weekNumbers")?(t=t.format(r.start,WEEK_HEADER_FORMAT),'<th class="fc-axis fc-week-number '+e.getClass("widgetHeader")+'" '+n.axisStyleAttr()+">"+buildGotoAnchorHtml(n,{date:r.start,type:"week",forceOff:1<i},htmlEscape(t))+"</th>"):'<th class="fc-axis '+e.getClass("widgetHeader")+'" '+n.axisStyleAttr()+"></th>"},n.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+n.theme.getClass("widgetContent")+'" '+n.axisStyleAttr()+"></td>"},n.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+n.axisStyleAttr()+"></td>"},n.renderDayGridBgIntroHtml=function(){return'<td class="fc-axis '+n.theme.getClass("widgetContent")+'" '+n.axisStyleAttr()+"><span>"+getAllDayHtml(n)+"</span></td>"},n.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+n.axisStyleAttr()+"></td>"},n.el.classList.add("fc-timeGrid-view"),n.el.innerHTML=n.renderSkeletonHtml(),n.scroller=new ScrollComponent("hidden","auto"),n.scroller.el),t=(n.el.querySelector(".fc-body > tr > td").appendChild(e),e.classList.add("fc-time-grid-container"),createElement("div",{className:"fc-time-grid"}));return e.appendChild(t),n.timeGrid=new TimeGrid(n.context,t,{renderBgIntroHtml:n.renderTimeGridBgIntroHtml,renderIntroHtml:n.renderTimeGridIntroHtml}),n.opt("allDaySlot")&&(n.dayGrid=new DayGrid(n.context,n.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:n.renderDayGridIntroHtml,renderBgIntroHtml:n.renderDayGridBgIntroHtml,renderIntroHtml:n.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1}),r=n.el.querySelector(".fc-divider"),n.dayGrid.bottomCoordPadding=r.getBoundingClientRect().height),n}return __extends(e,o),e.prototype.destroy=function(){o.prototype.destroy.call(this),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+e.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+e.getClass("widgetContent")+'">'+(this.opt("allDaySlot")?'<div class="fc-day-grid"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(e,t,r){o.prototype.updateSize.call(this,e,t,r),this.timeGrid.updateSize(e),this.dayGrid&&this.dayGrid.updateSize(e)},e.prototype.updateBaseSize=function(e,t,r){var i,n,o,s,a=this;this.axisWidth=matchCellWidths(findElements(this.el,".fc-axis")),this.timeGrid.colEls?(s=findElements(this.el,".fc-row").filter(function(e){return!a.scroller.el.contains(e)}),this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),s.forEach(uncompensateScroll),this.dayGrid&&(this.dayGrid.removeSegPopover(),i=(i=this.opt("eventLimit"))&&"number"!=typeof i?TIMEGRID_ALL_DAY_EVENT_LIMIT:i)&&this.dayGrid.limitRows(i),r||(n=this.computeScrollerHeight(t),this.scroller.setHeight(n),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s.forEach(function(e){compensateScroll(e,o)}),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<n&&(this.timeGrid.bottomRuleEl.style.display=""))):r||(n=this.computeScrollerHeight(t),this.scroller.setHeight(n))},e.prototype.computeScrollerHeight=function(e){return e-subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(e){e=this.timeGrid.computeTimeTop(e);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(View),SimpleTimeGrid=(TimeGridView.prototype.usesMinMaxTime=!0,function(i){function e(e,t){var r=i.call(this,e,t.el)||this;return r.buildDayRanges=memoize(buildDayRanges),r.slicer=new TimeGridSlicer,r.timeGrid=t,e.calendar.registerInteractiveComponent(r,{el:r.timeGrid.el}),r}return __extends(e,i),e.prototype.destroy=function(){i.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},e.prototype.render=function(e){var t=e.dateProfile,r=e.dayTable,i=this.dayRanges=this.buildDayRanges(r,t,this.dateEnv);this.timeGrid.receiveProps(__assign({},this.slicer.sliceProps(e,t,null,this.timeGrid,i),{dateProfile:t,cells:r.cells[0]}))},e.prototype.renderNowIndicator=function(e){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(e,this.timeGrid,this.dayRanges),e)},e.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},e.prototype.queryHit=function(e,t){e=this.timeGrid.positionToHit(e,t);if(e)return{component:this.timeGrid,dateSpan:e.dateSpan,dayEl:e.dayEl,rect:{left:e.relativeRect.left,right:e.relativeRect.right,top:e.relativeRect.top,bottom:e.relativeRect.bottom},layer:0}},e}(DateComponent));function buildDayRanges(e,t,r){for(var i=[],n=0,o=e.headerDates;n<o.length;n++){var s=o[n];i.push({start:r.add(s,t.minTime),end:r.add(s,t.maxTime)})}return i}var TimeGridSlicer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.sliceRange=function(e,t){for(var r=[],i=0;i<t.length;i++){var n=intersectRanges(e,t[i]);n&&r.push({start:n.start,end:n.end,isStart:n.start.valueOf()===e.start.valueOf(),isEnd:n.end.valueOf()===e.end.valueOf(),col:i})}return r},t}(Slicer),TimeGridView$1=function(n){function e(e,t,r,i){e=n.call(this,e,t,r,i)||this;return e.buildDayTable=memoize(buildDayTable),e.opt("columnHeader")&&(e.header=new DayHeader(e.context,e.el.querySelector(".fc-head-container"))),e.simpleTimeGrid=new SimpleTimeGrid(e.context,e.timeGrid),e.dayGrid&&(e.simpleDayGrid=new SimpleDayGrid(e.context,e.dayGrid)),e}return __extends(e,n),e.prototype.destroy=function(){n.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.render=function(e){n.prototype.render.call(this,e);var t=this.props.dateProfile,r=this.buildDayTable(t,this.dateProfileGenerator),e=this.splitter.splitProps(e);this.header&&this.header.receiveProps({dateProfile:t,dates:r.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleTimeGrid.receiveProps(__assign({},e.timed,{dateProfile:t,dayTable:r})),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(__assign({},e.allDay,{dateProfile:t,dayTable:r,nextDayThreshold:this.nextDayThreshold,isRigid:!1}))},e.prototype.renderNowIndicator=function(e){this.simpleTimeGrid.renderNowIndicator(e)},e}(TimeGridView);function buildDayTable(e,t){e=new DaySeries(e.renderRange,t);return new DayTable(e,!1)}var main=createPlugin({defaultView:"timeGridWeek",views:{timeGrid:{class:TimeGridView$1,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});export default main;export{TimeGridView as AbstractTimeGridView,TimeGrid,TimeGridSlicer,TimeGridView$1 as TimeGridView,buildDayRanges,buildDayTable};